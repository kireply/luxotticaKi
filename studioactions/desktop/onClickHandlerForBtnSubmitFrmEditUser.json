{
    "AS_Button_ff0fb40e4aef4475bda27255fcedcd39": {
        "id": "AS_Button_ff0fb40e4aef4475bda27255fcedcd39",
        "type": "ACTION_SEQUENCE",
        "name": "onClickHandlerForBtnSubmitFrmEditUser",
        "params": [{
            "datatype": "collection",
            "name": "eventobject"
        }],
        "contextObj": {
            "name": "frmEditUser",
            "type": "forms",
            "platform": "",
            "KUID": "f083813d2c09432d9f3d793de344cf37"
        },
        "language": "js",
        "eventType": "onClick",
        "actions": [{
            "id": "ADD_LOCAL_VARIABLE_he2dfd9d66034465b53a9fdf8ac81c30",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "nameOK",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "boolean",
            "value": "true",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_e439accdccd446a3b7e92e81db1eb509",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "SurnameOK",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "boolean",
            "value": "true",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_b30c316d7cce4714a3f1d1649d72c5e6",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "emailOK",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "boolean",
            "value": "true",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_be7e564c73804f1cb7e33acd28e73993",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "passwordOK",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "boolean",
            "value": "true",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "_dbb241f01421483a83a93fe354fd5f66",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "this.view.addoredituser2.txtName.text",
                "operator": "===",
                "rightValueType": "value",
                "rightValue": "\"\"",
                "leftItemKUID": "f083813d2c09432d9f3d793de344cf37",
                "leftWidgetKUID": "eff2a31c50a44391b80a36105ff53648"
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "_h611e1c8cc604a149e1c1eb67449acce",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_fa14dcaf889648d89f17c53a87a67f3f",
            "type": "ADD_SNIPPET",
            "codeSnippet": "nameOK = true;",
            "parentId": "_h611e1c8cc604a149e1c1eb67449acce",
            "callbackType": null
        }, {
            "id": "ADD_SNIPPET_fc267517c73f48c9a2f0a0c02f3198bd",
            "type": "ADD_SNIPPET",
            "codeSnippet": "nameOK = false;",
            "parentId": "_dbb241f01421483a83a93fe354fd5f66",
            "callbackType": null
        }, {
            "id": "_jbb6837f35f5460d9178876515485f2d",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "this.view.addoredituser2.txtSurname.text",
                "operator": "===",
                "rightValueType": "value",
                "rightValue": "\"\"",
                "leftItemKUID": "f083813d2c09432d9f3d793de344cf37",
                "leftWidgetKUID": "j3b47800a985404d8be2133baaf3fcbd"
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "_h949546ad6204eb2b408741de5b1cb01",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_f835cc499ade43a886d2e5c48d99cb7a",
            "type": "ADD_SNIPPET",
            "codeSnippet": "surnameOK = true;",
            "parentId": "_h949546ad6204eb2b408741de5b1cb01",
            "callbackType": null
        }, {
            "id": "ADD_SNIPPET_h5e38774ae874f58873e960a831b84bd",
            "type": "ADD_SNIPPET",
            "codeSnippet": "surnameOK = false;",
            "parentId": "_jbb6837f35f5460d9178876515485f2d",
            "callbackType": null
        }, {
            "id": "_a27a214cc2e44c15823f6350aee29966",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "this.view.addoredituser2.txtCompileUserEmail.text",
                "operator": "===",
                "rightValueType": "value",
                "rightValue": "\"\"",
                "leftItemKUID": "f083813d2c09432d9f3d793de344cf37",
                "leftWidgetKUID": "af72ce7e0a3d4554b7f3456d59f4c4b5"
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "_d6a6dd71be51457898ed1d5e2a4bbf77",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_cbe263a58ce843ed819b79b46b0b1bfc",
            "type": "ADD_SNIPPET",
            "codeSnippet": "emailOK = true; // email non vuota, per il momento ancora valida\n\n// Uso una regex per verificare il formato <stringa>@<stringa>\nlet email = this.view.addoredituser2.txtCompileUserEmail.text;\nconst pattern = /^[^@]+@[^@]+$/;\nemailOK = pattern.test(email);\n\n// controllo che la email sia lunga almeno 4 caratteri\nif (email.length < 4) {\n  emailOK = false;\n}",
            "parentId": "_d6a6dd71be51457898ed1d5e2a4bbf77",
            "callbackType": null
        }, {
            "id": "_a0d200797f264c94920fe4e678b35524",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "!emailOK"
            }],
            "parentId": "_d6a6dd71be51457898ed1d5e2a4bbf77",
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "SHOW_ALERT_ee7ab09858b545649ef9304f800fa8ce",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "Invalid email inserted.",
            "yesLabel": "Ok",
            "alertMessage": "Invalid email inserted.",
            "messageType": "constant",
            "parentId": "_a0d200797f264c94920fe4e678b35524",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_d5ccaf60342e4ff48c64f0109c804b26",
            "type": "ADD_SNIPPET",
            "codeSnippet": "emailOK = false;",
            "parentId": "_a27a214cc2e44c15823f6350aee29966",
            "callbackType": null
        }, {
            "id": "_a1406a3517e04d7b9f5f5802483ec1bf",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "this.view.addoredituser2.txtCompileUserPassword.text",
                "operator": "===",
                "rightValueType": "value",
                "rightValue": "\"\"",
                "leftItemKUID": "f083813d2c09432d9f3d793de344cf37",
                "leftWidgetKUID": "b3733bd7f5c249a2b03038d32053b749"
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "_eb0c444c4a2a49bbb21784a635e79128",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_if0a78e0ea1849f288b3333fb70f8355",
            "type": "ADD_SNIPPET",
            "codeSnippet": "passwordOK = true; // password non vuota per, il momento ancora valida \n// TODO: aggiungi controllo regex per verificare robustezza password",
            "parentId": "_eb0c444c4a2a49bbb21784a635e79128",
            "callbackType": null
        }, {
            "id": "_c90d246dfade48be81ee0d15125daa9b",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "nameOK && surnameOK && emailOK && passwordOK"
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "INVOKE_SERVICE_f5ab6bb2474740a4a34236cd888f87d8",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_ba11b9a691ba4f8eb5de950b8a771085": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ba11b9a691ba4f8eb5de950b8a771085",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Forms",
                        "propertyName": "text",
                        "widgetId": "txtName",
                        "widgetPath": "this.view.addoredituser2.txtName",
                        "widgetType": "TextField",
                        "dataType": "string",
                        "itemId": "frmEditUser",
                        "widgetKUID": "eff2a31c50a44391b80a36105ff53648",
                        "itemKUID": "f083813d2c09432d9f3d793de344cf37",
                        "forkedPlatform": "all",
                        "instanceKUID": "ae46d283a60140d784f93e6aa0e63e6a"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "name",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "USER_update",
                            "operationid": "115559"
                        }
                    }
                },
                "ME_Mapping_h43e08ff4e09414595a5d1b13cfde03f": {
                    "channel": "desktop",
                    "id": "ME_Mapping_h43e08ff4e09414595a5d1b13cfde03f",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Forms",
                        "propertyName": "text",
                        "widgetId": "txtSurname",
                        "widgetPath": "this.view.addoredituser2.txtSurname",
                        "widgetType": "TextField",
                        "dataType": "string",
                        "itemId": "frmEditUser",
                        "widgetKUID": "j3b47800a985404d8be2133baaf3fcbd",
                        "itemKUID": "f083813d2c09432d9f3d793de344cf37",
                        "forkedPlatform": "all",
                        "instanceKUID": "ae46d283a60140d784f93e6aa0e63e6a"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "surname",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "USER_update",
                            "operationid": "115559"
                        }
                    }
                },
                "ME_Mapping_ceb309b9857a4c9aa682d0ad84ff21ee": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ceb309b9857a4c9aa682d0ad84ff21ee",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Forms",
                        "propertyName": "text",
                        "widgetId": "txtCompileUserEmail",
                        "widgetPath": "this.view.addoredituser2.txtCompileUserEmail",
                        "widgetType": "TextField",
                        "dataType": "string",
                        "itemId": "frmEditUser",
                        "widgetKUID": "af72ce7e0a3d4554b7f3456d59f4c4b5",
                        "itemKUID": "f083813d2c09432d9f3d793de344cf37",
                        "forkedPlatform": "all",
                        "instanceKUID": "ae46d283a60140d784f93e6aa0e63e6a"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "email",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "USER_update",
                            "operationid": "115559"
                        }
                    }
                },
                "ME_Mapping_bc579a1f7c69423a8dac4c8fee95a03e": {
                    "channel": "desktop",
                    "id": "ME_Mapping_bc579a1f7c69423a8dac4c8fee95a03e",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Forms",
                        "propertyName": "text",
                        "widgetId": "txtCompileUserPassword",
                        "widgetPath": "this.view.addoredituser2.txtCompileUserPassword",
                        "widgetType": "TextField",
                        "dataType": "string",
                        "itemId": "frmEditUser",
                        "widgetKUID": "b3733bd7f5c249a2b03038d32053b749",
                        "itemKUID": "f083813d2c09432d9f3d793de344cf37",
                        "forkedPlatform": "all",
                        "instanceKUID": "ae46d283a60140d784f93e6aa0e63e6a"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "password",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "USER_update",
                            "operationid": "115559"
                        }
                    }
                },
                "ME_Mapping_ae009d737d7d49698ba0b03350dd19b6": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ae009d737d7d49698ba0b03350dd19b6",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Forms",
                        "propertyName": "text",
                        "widgetId": "txtID",
                        "widgetPath": "this.view.txtID",
                        "widgetType": "TextField",
                        "dataType": "string",
                        "itemId": "frmEditUser",
                        "widgetKUID": "b6d4e964f49343f0a3b4764ac8136996",
                        "itemKUID": "f083813d2c09432d9f3d793de344cf37",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "id",
                        "dataType": "number",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "USER_update",
                            "operationid": "115559"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_ba11b9a691ba4f8eb5de950b8a771085", "ME_Mapping_h43e08ff4e09414595a5d1b13cfde03f", "ME_Mapping_ceb309b9857a4c9aa682d0ad84ff21ee", "ME_Mapping_bc579a1f7c69423a8dac4c8fee95a03e", "ME_Mapping_ae009d737d7d49698ba0b03350dd19b6"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "USER_update",
                "operationid": "115559"
            },
            "parentId": "_c90d246dfade48be81ee0d15125daa9b",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "ADD_SNIPPET_i55ca616dc7e4a779a9453cbe44c9827",
            "type": "ADD_SNIPPET",
            "codeSnippet": "passwordOK = false;",
            "parentId": "_a1406a3517e04d7b9f5f5802483ec1bf",
            "callbackType": null
        }, {
            "id": "SHOW_ALERT_ebf3ea04dce7400aa8f13e2ee574d432",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_INFO",
            "alertTitle": "Field \"Password\" cannot be empty.",
            "yesLabel": "Ok",
            "alertMessage": "Field \"Password\" cannot be empty.",
            "messageType": "constant",
            "parentId": "_a1406a3517e04d7b9f5f5802483ec1bf",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "SHOW_ALERT_e69c9926305249c9b13d0e1b1239b9a5",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_INFO",
            "alertTitle": "Field \"Email\" cannot be empty.",
            "yesLabel": "Ok",
            "alertMessage": "Field \"Email\" cannot be empty.",
            "messageType": "constant",
            "parentId": "_a27a214cc2e44c15823f6350aee29966",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "SHOW_ALERT_cb48ca3da57b46c285d32f09afd36fe2",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_INFO",
            "alertTitle": "Field \"Surname\" cannot be empty.",
            "yesLabel": "Ok",
            "alertMessage": "Field \"Surname\" cannot be empty.",
            "messageType": "constant",
            "parentId": "_jbb6837f35f5460d9178876515485f2d",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "SHOW_ALERT_c8f709fc03ea4fe09e254af03d1b77dc",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_INFO",
            "alertTitle": "Field \"Name\" cannot be empty.",
            "yesLabel": "Ok",
            "alertMessage": "Field \"Name\" cannot be empty.",
            "messageType": "constant",
            "parentId": "_dbb241f01421483a83a93fe354fd5f66",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "_f47f2b9c2c2f4bd3ad8823cde164c0a6",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "USER_update.opstatus===0"
            }],
            "parentId": "INVOKE_SERVICE_f5ab6bb2474740a4a34236cd888f87d8",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "SHOW_ALERT_cdc39e793042471e8e8ce042b050da7e",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_INFO",
            "alertTitle": "User updated.",
            "yesLabel": "Ok",
            "alertMessage": "User updated.",
            "messageType": "constant",
            "parentId": "_f47f2b9c2c2f4bd3ad8823cde164c0a6",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "_d0994428928d404a9e72c839089a10b7",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_f5ab6bb2474740a4a34236cd888f87d8",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "SHOW_ALERT_ce0757d03bf3439c9e41fd9ea9d3b996",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_INFO",
            "alertTitle": "Error.",
            "yesLabel": "Ok",
            "alertMessage": "Error in updating the user.",
            "messageType": "constant",
            "parentId": "_d0994428928d404a9e72c839089a10b7",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "NAVIGATE_TO_FORM__b1d235b10a7f4678a3166f84c97eae1c",
            "type": "NAVIGATE_TO_FORM",
            "formId": "frmDashboard",
            "formKUID": "b164a58fab0f47b1b2023b479f06502d",
            "projectName": "luxotticaKi",
            "mappings": {},
            "mappingsOrder": [],
            "parentId": "_d0994428928d404a9e72c839089a10b7",
            "callbackType": null,
            "enableMappingEditor": true,
            "package": "",
            "isCustomInput": false
        }, {
            "id": "NAVIGATE_TO_FORM__e26e920e354d43e6b01f95d8dbbab496",
            "type": "NAVIGATE_TO_FORM",
            "formId": "frmDashboard",
            "formKUID": "b164a58fab0f47b1b2023b479f06502d",
            "projectName": "luxotticaKi",
            "mappings": {},
            "mappingsOrder": [],
            "parentId": "_f47f2b9c2c2f4bd3ad8823cde164c0a6",
            "callbackType": null,
            "enableMappingEditor": true,
            "package": "",
            "isCustomInput": false
        }]
    }
}