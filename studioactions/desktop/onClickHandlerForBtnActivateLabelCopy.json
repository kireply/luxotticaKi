{
    "AS_Button_i584a7ddf6a641c5a0f0eff6d9f04f56": {
        "id": "AS_Button_i584a7ddf6a641c5a0f0eff6d9f04f56",
        "type": "ACTION_SEQUENCE",
        "name": "onClickHandlerForBtnActivateLabelCopy",
        "params": [{
            "datatype": "collection",
            "name": "eventobject"
        }],
        "contextObj": {
            "name": "frmLabelCopy",
            "type": "forms",
            "platform": "",
            "KUID": "d542af1533cb4c91820f2aa7d069320e"
        },
        "language": "js",
        "eventType": "onClick",
        "actions": [{
            "id": "ADD_LOCAL_VARIABLE_jac90e9c585d4cfdadf09cb7f7c8014c",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "lastActiveLabelCopy",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "collection",
            "value": "null",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_a261a27aa56c49f58f104d354462d140",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "labelCopyId",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "number",
            "value": "0",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_c9d39ccd009740d4a88c38d72072cbba",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "labelCopyFlowId",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "number",
            "value": "0",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_ce3b56f7ac3a4465b0aefdd457ccf100",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "labelCopyEnvironment",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "string",
            "value": "\"\"",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "ADD_SNIPPET_be51198253724c218d06b1fff3e9c33a",
            "type": "ADD_SNIPPET",
            "codeSnippet": "// keeping contact with the current Active label copy. We will set this as \"Archived\".\ndebugger;\nlastActiveLabelCopy = gblLabelCopyList.filter(item => parseInt(item.flow_id) === gblLabelCopyFlowId && item.status === \"Active\");\n\nif (lastActiveLabelCopy.length !== 0) {\n  labelCopyId = parseInt(lastActiveLabelCopy[0].id);\n  labelCopyFlowId = parseInt(lastActiveLabelCopy[0].flow_id);\n  labelCopyEnvironment = lastActiveLabelCopy[0].environment;\n}\n",
            "parentId": null,
            "callbackType": null
        }, {
            "id": "LOADING_INDICATOR_ad6609e1a93840b381ea612763fb7f51",
            "selectedOption": "show",
            "parentId": null,
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true",
            "text": "Updating Label Copy..."
        }, {
            "id": "INVOKE_SERVICE_f3a8d72c134b4f95ac5911dc6ab047a1",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_b361c2ac0a394e5db2b69e2f93a468ec": {
                    "channel": "desktop",
                    "id": "ME_Mapping_b361c2ac0a394e5db2b69e2f93a468ec",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblLabelCopyId",
                        "dataType": "number",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "id",
                        "dataType": "number",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                },
                "ME_Mapping_b2c230a2b0614f90bdd01c4fad60ed26": {
                    "channel": "desktop",
                    "id": "ME_Mapping_b2c230a2b0614f90bdd01c4fad60ed26",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblLabelCopyFlowId",
                        "dataType": "number",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "flow_id",
                        "dataType": "number",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                },
                "ME_Mapping_ce7a09379d5d449a9d7fce7728d13ae7": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ce7a09379d5d449a9d7fce7728d13ae7",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblLabelCopyEnvironment",
                        "dataType": "string",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "environment",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                },
                "ME_Mapping_h0819f74fd6f4fa68e1d0a08c2a5858e": {
                    "channel": "desktop",
                    "id": "ME_Mapping_h0819f74fd6f4fa68e1d0a08c2a5858e",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "status",
                        "dataType": "string",
                        "expression": "\"Active\"",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_b361c2ac0a394e5db2b69e2f93a468ec", "ME_Mapping_b2c230a2b0614f90bdd01c4fad60ed26", "ME_Mapping_ce7a09379d5d449a9d7fce7728d13ae7", "ME_Mapping_h0819f74fd6f4fa68e1d0a08c2a5858e"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "LABELCOPY_update",
                "operationid": "137229"
            },
            "parentId": null,
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "LOADING_INDICATOR_hc132817a32d44bda0db051a39b135e8",
            "selectedOption": "dismiss",
            "parentId": "INVOKE_SERVICE_f3a8d72c134b4f95ac5911dc6ab047a1",
            "type": "LOADING_INDICATOR",
            "callbackType": "Callback",
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "_ea276d0ee94d4bc2bb73a40efc415a5e",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "LABELCOPY_update.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_f3a8d72c134b4f95ac5911dc6ab047a1",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_f19581b4824e48718e3da6660c8444e4",
            "type": "ADD_SNIPPET",
            "codeSnippet": "debugger;\n\n// Label Copy update to \"Active\" successfull.\n",
            "parentId": "_ea276d0ee94d4bc2bb73a40efc415a5e",
            "callbackType": null
        }, {
            "id": "_j55abba96f334941bf2a167fe5f8a75f",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "lastActiveLabelCopy.length !== 0"
            }],
            "parentId": "_ea276d0ee94d4bc2bb73a40efc415a5e",
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "_e1d90da660864bc4bcec853f07559640",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "_ea276d0ee94d4bc2bb73a40efc415a5e",
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_j261bea8dfea4c08aa14f32f5f231614",
            "type": "ADD_SNIPPET",
            "codeSnippet": "debugger;\n\n// There was already an Active Label Copy. We update it as \"Archived\".\n\n// let idLC = labelCopyId;\n// let flowLC = labelCopyFlowId;\n// let envLC = labelCopyEnvironment;",
            "parentId": "_j55abba96f334941bf2a167fe5f8a75f",
            "callbackType": null
        }, {
            "id": "INVOKE_SERVICE_b15ead471ce14d1e94b8ea3830349728",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_j45844184db240108aa09fdf9e41e320": {
                    "channel": "desktop",
                    "id": "ME_Mapping_j45844184db240108aa09fdf9e41e320",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "labelCopyId",
                        "dataType": "number",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "id",
                        "dataType": "number",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                },
                "ME_Mapping_f88d003669004130b022ccbf3cb53bb3": {
                    "channel": "desktop",
                    "id": "ME_Mapping_f88d003669004130b022ccbf3cb53bb3",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "labelCopyFlowId",
                        "dataType": "number",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "flow_id",
                        "dataType": "number",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                },
                "ME_Mapping_d164064b56764d32ba9ebd706d27db61": {
                    "channel": "desktop",
                    "id": "ME_Mapping_d164064b56764d32ba9ebd706d27db61",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "status",
                        "dataType": "string",
                        "expression": "\"Archived\"",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                },
                "ME_Mapping_afd0b330c6f1495b9a92c4bdc39c0062": {
                    "channel": "desktop",
                    "id": "ME_Mapping_afd0b330c6f1495b9a92c4bdc39c0062",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "labelCopyEnvironment",
                        "dataType": "string",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "environment",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_update",
                            "operationid": "137229"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_j45844184db240108aa09fdf9e41e320", "ME_Mapping_f88d003669004130b022ccbf3cb53bb3", "ME_Mapping_d164064b56764d32ba9ebd706d27db61", "ME_Mapping_afd0b330c6f1495b9a92c4bdc39c0062"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "LABELCOPY_update",
                "operationid": "137229"
            },
            "parentId": "_j55abba96f334941bf2a167fe5f8a75f",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "_aae4bcafcbb94a1f9223be89541c2004",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_f3a8d72c134b4f95ac5911dc6ab047a1",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "SHOW_ALERT_f5ce2e662388445a8a0f9c529769b8ef",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "Label Copy NOT updated successfully.",
            "yesLabel": "Ok",
            "alertMessage": "Label Copy NOT updated successfully.",
            "messageType": "constant",
            "parentId": "_aae4bcafcbb94a1f9223be89541c2004",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_d621a33279624eb08f87387730a29ae3",
            "type": "ADD_SNIPPET",
            "codeSnippet": "self.view.flxPopupActivateLabelCopy.setVisibility(false);\nself.view.flxBlur.setVisibility(false);",
            "parentId": "_aae4bcafcbb94a1f9223be89541c2004",
            "callbackType": null
        }, {
            "id": "LOADING_INDICATOR_bef144f04ddc4696bcd0efbb1e668618",
            "selectedOption": "dismiss",
            "parentId": "_aae4bcafcbb94a1f9223be89541c2004",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "ADD_SNIPPET_a22f774b70e643e3a2a9eb43f66351fe",
            "type": "ADD_SNIPPET",
            "codeSnippet": "debugger;\nlet response = LABELCOPY_update;\nvoltmx.print(\"### LABELCOPY_update: \") + JSON.stringify(LABELCOPY_update) ;",
            "parentId": "INVOKE_SERVICE_b15ead471ce14d1e94b8ea3830349728",
            "callbackType": "Callback"
        }, {
            "id": "_jfd6bae3ee734d13ba147ec9500c413b",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "LABELCOPY_update.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_b15ead471ce14d1e94b8ea3830349728",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "_hb7b6a5bb7434fa4bc2f943da2a3c347",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_b15ead471ce14d1e94b8ea3830349728",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "SHOW_ALERT_b51040076f9f4762b5c8286ffb5e9cb7",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "Old Active Label Copy NOT updated correctly.",
            "yesLabel": "Ok",
            "alertMessage": "Old Active Label Copy NOT updated correctly.",
            "messageType": "constant",
            "parentId": "_hb7b6a5bb7434fa4bc2f943da2a3c347",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_b755c7a570274de6890fcbd2643e6da5",
            "type": "ADD_SNIPPET",
            "codeSnippet": "self.view.flxPopupActivateLabelCopy.setVisibility(false);\nself.view.flxBlur.setVisibility(false);",
            "parentId": "_hb7b6a5bb7434fa4bc2f943da2a3c347",
            "callbackType": null
        }, {
            "id": "LOADING_INDICATOR_afb18c994b654949aefd871d1f63fbc9",
            "selectedOption": "dismiss",
            "parentId": "_hb7b6a5bb7434fa4bc2f943da2a3c347",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "ADD_SNIPPET_ha5fd800a4ac45d5bdf48a6be4c669c1",
            "type": "ADD_SNIPPET",
            "codeSnippet": "debugger;\nvoltmx.print(\"### Active Label Copy update successfull.\");\nself.view.flxPopupActivateLabelCopy.setVisibility(false);\nself.view.flxBlur.setVisibility(false);",
            "parentId": "_jfd6bae3ee734d13ba147ec9500c413b",
            "callbackType": null
        }, {
            "id": "NAVIGATE_TO_FORM__a1817edfef954469a7102a0098997489",
            "type": "NAVIGATE_TO_FORM",
            "formId": "frmLabelCopy",
            "formKUID": "d542af1533cb4c91820f2aa7d069320e",
            "projectName": "luxotticaKi",
            "mappings": {},
            "mappingsOrder": [],
            "parentId": "_jfd6bae3ee734d13ba147ec9500c413b",
            "callbackType": null,
            "enableMappingEditor": true,
            "package": "",
            "isCustomInput": false
        }, {
            "id": "LOADING_INDICATOR_ac9bae231c014e099c8d12cff6d871dd",
            "selectedOption": "dismiss",
            "parentId": "_jfd6bae3ee734d13ba147ec9500c413b",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "ADD_SNIPPET_fe8da7ec8d1649b8bd5b7d9d05fab20a",
            "type": "ADD_SNIPPET",
            "codeSnippet": "self.view.flxPopupActivateLabelCopy.setVisibility(false);\nself.view.flxBlur.setVisibility(false);",
            "parentId": "_e1d90da660864bc4bcec853f07559640"
        }, {
            "id": "NAVIGATE_TO_FORM__h0f4999ed498406fbd54bb85ad434805",
            "type": "NAVIGATE_TO_FORM",
            "formId": "frmLabelCopy",
            "formKUID": "d542af1533cb4c91820f2aa7d069320e",
            "projectName": "luxotticaKi",
            "mappings": {},
            "mappingsOrder": [],
            "parentId": "_e1d90da660864bc4bcec853f07559640",
            "callbackType": null,
            "enableMappingEditor": true,
            "package": "",
            "isCustomInput": false
        }, {
            "id": "LOADING_INDICATOR_i6a86eb0f1d643c2b556e87e35f4def5",
            "selectedOption": "dismiss",
            "parentId": "_e1d90da660864bc4bcec853f07559640",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }]
    }
}