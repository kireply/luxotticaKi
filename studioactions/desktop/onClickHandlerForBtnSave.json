{
    "AS_Button_bdec98b2dbd942d6a184a2283d9ca76a": {
        "id": "AS_Button_bdec98b2dbd942d6a184a2283d9ca76a",
        "type": "ACTION_SEQUENCE",
        "name": "onClickHandlerForBtnSave",
        "params": [{
            "datatype": "collection",
            "name": "eventobject"
        }],
        "contextObj": {
            "name": "frmStepComposition",
            "type": "forms",
            "platform": "",
            "KUID": "j7b99cee3df84132ae59e348dbb47442"
        },
        "language": "js",
        "eventType": "onClick",
        "actions": [{
            "id": "LOADING_INDICATOR_f8b6c42dded5491baf48240f2f0c2821",
            "selectedOption": "show",
            "type": "LOADING_INDICATOR",
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true",
            "text": "Saving step..."
        }, {
            "id": "_hc299d94e34d4ce0a72e361ea8b79059",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "varvalue",
                "leftValue": "gblSaveAfterEdit",
                "operator": "===",
                "rightValueType": "value",
                "rightValue": "true"
            }, {
                "leftValueType": "expression",
                "leftValue": "gblFlowEnvironment !== \"Production\" || gblFlowStatus !== \"Active\""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "type": "ELSE_IF_CONDITION",
            "conditions": [{
                "leftValueType": "varvalue",
                "leftValue": "gblSaveAfterEdit",
                "operator": "===",
                "rightValueType": "value",
                "rightValue": "true"
            }, {
                "leftValueType": "expression",
                "leftValue": "gblFlowEnvironment === \"Production\" && gblFlowStatus === \"Active\""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_be8a2b1752ae419b812ba6504558d84f",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### entrato in IF per flusso Prod e Active, INVOCO COMPONENT_INSTANCE_Flow_CustomQuery\");\ndebugger; // flow Prod e Active\n// Dovrò eliminare i precedenti componenti per ricrearli,\n// creare un nuovo labelCopy nel quale caricare tutte le labels\n// e infine aggiornare il vecchio labelCopy active ad archiviato.",
            "parentId": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_bd2df1eef773450f8dfc71aebaa1c7f9",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "flowId",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "number",
            "value": "0",
            "parentId": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_d97216aea38042dd84193f5c99026b3a",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "oldLabels",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "collection",
            "value": "null",
            "parentId": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_f24544ff9b074b639483e05b05dc6fe4",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "newLabels",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "collection",
            "value": "null",
            "parentId": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "callbackType": null
        }, {
            "id": "ADD_LOCAL_VARIABLE_f430275a7ee5477bbaf76ea3bb66faaa",
            "type": "ADD_LOCAL_VARIABLE",
            "name": "newLabelCopyId",
            "isGlobal": false,
            "valuetype": "constant",
            "datatype": "number",
            "value": "0",
            "parentId": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "callbackType": null
        }, {
            "id": "INVOKE_SERVICE_hdef9731234b4aab96d887167b9b5022",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_cd842093ff8e4b7486608da7d46ba9da": {
                    "channel": "desktop",
                    "id": "ME_Mapping_cd842093ff8e4b7486608da7d46ba9da",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblFlowId",
                        "dataType": "string",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "flow_id",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "COMPONENT_INSTANCE_Flow_CustomQuery",
                            "operationid": "132915"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_cd842093ff8e4b7486608da7d46ba9da"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "COMPONENT_INSTANCE_Flow_CustomQuery",
                "operationid": "132915"
            },
            "parentId": "ELSE_IF_CONDITION_d73234d0efc7421ca66f6a696459f156",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "ADD_SNIPPET_ea9a5ce4e5484868af748a11b196da4a",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### entrato in IF per flusso NON Prod o NON Active, INVOCO COMPONENT_INSTANCE_Flow_CustomQuery\");\ndebugger; // Flow NON Prod o Active",
            "parentId": "_hc299d94e34d4ce0a72e361ea8b79059",
            "callbackType": null
        }, {
            "id": "_e52221cbe82a4aedb44a5bc3442d8743",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": null,
            "callbackType": null,
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_e568e09aeb6a4a00b705d0bcc269b952",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### entrato in ELSE per salvataggio di un flusso nuovo. Invoco direttamente saveStepComposition\");\ndebugger; // else",
            "parentId": "_e52221cbe82a4aedb44a5bc3442d8743",
            "callbackType": null
        }, {
            "id": "INVOKE_FUNCTION__e976fc93e6ab4937bfdae5cc2361667c",
            "type": "INVOKE_FUNCTION",
            "sequenceKUID": "saveStepComposition",
            "display": "saveStepComposition",
            "inputparams": [],
            "parentId": "_e52221cbe82a4aedb44a5bc3442d8743",
            "callbackType": null,
            "disabled": null,
            "source": "controller"
        }, {
            "id": "LOADING_INDICATOR_bf7d44949b3041a58fb554645ccbcd76",
            "selectedOption": "dismiss",
            "parentId": "_e52221cbe82a4aedb44a5bc3442d8743",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "INVOKE_SERVICE_id9b9408c77347e3a57844598abbeec8",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_ef9f5e7576f54fe3ae9c47d2c7b6ab3d": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ef9f5e7576f54fe3ae9c47d2c7b6ab3d",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblFlowId",
                        "dataType": "string",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "flow_id",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "COMPONENT_INSTANCE_Flow_CustomQuery",
                            "operationid": "132915"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_ef9f5e7576f54fe3ae9c47d2c7b6ab3d"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "COMPONENT_INSTANCE_Flow_CustomQuery",
                "operationid": "132915"
            },
            "parentId": "_hc299d94e34d4ce0a72e361ea8b79059",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "ADD_SNIPPET_f14a744cb03543649bc49ec76e9b46f0",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### COMPONENT_INSTANCE_Flow_CustomQuery.records: \" + JSON.stringify(COMPONENT_INSTANCE_Flow_CustomQuery.records) );",
            "parentId": "INVOKE_SERVICE_id9b9408c77347e3a57844598abbeec8",
            "callbackType": "Callback"
        }, {
            "id": "_cab96a148f254c13b09afa6603051bca",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "COMPONENT_INSTANCE_Flow_CustomQuery.records !== null"
            }, {
                "leftValueType": "expression",
                "leftValue": "COMPONENT_INSTANCE_Flow_CustomQuery.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_id9b9408c77347e3a57844598abbeec8",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "_ca2b9ef3c7484e22a29da4b34a8019f1",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_id9b9408c77347e3a57844598abbeec8",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "LOADING_INDICATOR_a81c5364ab704951b81f4698bfb3b379",
            "selectedOption": "dismiss",
            "parentId": "_ca2b9ef3c7484e22a29da4b34a8019f1",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "SHOW_ALERT_f2a2b43015a54b0ebefea6696cabcc3e",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "COMPONENT_INSTANCE_Flow_CustomQuery.opstatus NOT 0",
            "yesLabel": "Ok",
            "alertMessage": "COMPONENT_INSTANCE_Flow_CustomQuery.opstatus NOT 0",
            "messageType": "constant",
            "parentId": "_ca2b9ef3c7484e22a29da4b34a8019f1",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_b65191a9da7a4e10957e8d09fd2cc498",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### COMPONENT_INSTANCE_Flow_CustomQuery andata a buon fine. Invocherò successivamente LABEL_Flow_CustomQuery\");\n\n// forEach cicle in order to DELETE all the records in COMPONENT_INSTANCE, given its id.\nCOMPONENT_INSTANCE_Flow_CustomQuery.records.forEach(record => {\n\n  voltmx.sdk.getDefaultInstance().getIntegrationService(\"mariaDB\").invokeOperation(\"COMPONENT_INSTANCE_delete\", {}, {id: record.id}, (response) => {\n    voltmx.print(\"### Row deleted with response: \" + JSON.stringify(response) );\n  }, (error) => {\n    voltmx.print(\"### Row NOT deleted. Error: \" + error);\n  });\n  \n});\n",
            "parentId": "_cab96a148f254c13b09afa6603051bca",
            "callbackType": null
        }, {
            "id": "INVOKE_SERVICE_af74a5c80b2a423a913fbda04d0c0a07",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {},
            "mappingsOrder": [],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "LABEL_copyId_CustomQueryGet",
                "operationid": "137514"
            },
            "parentId": "_cab96a148f254c13b09afa6603051bca",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "_ab001465cfd447b3a1ceb3407eea68df",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "LABEL_copyId_CustomQueryGet.records !== 0"
            }, {
                "leftValueType": "expression",
                "leftValue": "LABEL_copyId_CustomQueryGet.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_af74a5c80b2a423a913fbda04d0c0a07",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "_fa36c62a0d6b4ad19c9a62d080d3fd80",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_af74a5c80b2a423a913fbda04d0c0a07",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "LOADING_INDICATOR_cf006a81849e44229a52b0abf3301bd6",
            "selectedOption": "dismiss",
            "parentId": "_fa36c62a0d6b4ad19c9a62d080d3fd80",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "SHOW_ALERT_a6009eb152b2477cb5ae2560c9ad865f",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "LABEL_Flow_CustomQuery.opstatus NOT 0",
            "yesLabel": "Ok",
            "alertMessage": "LABEL_Flow_CustomQuery.opstatus NOT 0",
            "messageType": "constant",
            "parentId": "_fa36c62a0d6b4ad19c9a62d080d3fd80",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_e292c34dd3da46f28c981f79139beca0",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### LABEL_copyId_CustomQueryGet andata a buon fine. Invocherò successivamente la funzione saveStepComposition\");\n\nvoltmx.print(\"### LABEL_copyId_CustomQueryGet.records: \" + JSON.stringify(LABEL_copyId_CustomQueryGet.records) );\ndebugger;\n// forEach cicle in order to delete all the records in LABEL, given its id.\nLABEL_copyId_CustomQueryGet.records.forEach(record => {\n\n  voltmx.sdk.getDefaultInstance().getIntegrationService(\"mariaDB\").invokeOperation(\"LABEL_delete\", {}, {id: record.id}, (response) => {\n    voltmx.print(\"### Row deleted with response: \" + JSON.stringify(response) );\n  }, (error) => {\n    voltmx.print(\"### Row NOT deleted. Error: \" + error);\n  });\n  \n});\n\n\ngblSavingFlowProdAndActive = false;\n\n//debugger;",
            "parentId": "_ab001465cfd447b3a1ceb3407eea68df",
            "callbackType": null
        }, {
            "id": "INVOKE_FUNCTION__ha3c2e45d5fe4329902e1b0d7426d648",
            "type": "INVOKE_FUNCTION",
            "sequenceKUID": "saveStepComposition",
            "display": "saveStepComposition",
            "inputparams": [],
            "parentId": "_ab001465cfd447b3a1ceb3407eea68df",
            "callbackType": null,
            "disabled": null,
            "source": "controller"
        }, {
            "id": "LOADING_INDICATOR_id0efbafdf014f30b0c0c584ae4b9d30",
            "selectedOption": "dismiss",
            "parentId": "_ab001465cfd447b3a1ceb3407eea68df",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "LOADING_INDICATOR_g240daf853084e6cab06aa848abbc0ed",
            "selectedOption": "dismiss",
            "parentId": "INVOKE_SERVICE_hdef9731234b4aab96d887167b9b5022",
            "type": "LOADING_INDICATOR",
            "callbackType": "Callback",
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "ADD_SNIPPET_f6f5566f094c4355a6123ac0e8957fb8",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### COMPONENT_INSTANCE_Flow_CustomQuery.records: \" + JSON.stringify(COMPONENT_INSTANCE_Flow_CustomQuery.records) );\ndebugger;",
            "parentId": "INVOKE_SERVICE_hdef9731234b4aab96d887167b9b5022",
            "callbackType": "Callback"
        }, {
            "id": "_c03f424e8ace452486db09be79eb4169",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "COMPONENT_INSTANCE_Flow_CustomQuery.records !== null"
            }, {
                "leftValueType": "expression",
                "leftValue": "COMPONENT_INSTANCE_Flow_CustomQuery.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_hdef9731234b4aab96d887167b9b5022",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "_c9e6fcd6047e423697ee9f1e7b6f2ff2",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_hdef9731234b4aab96d887167b9b5022",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "LOADING_INDICATOR_e8438c98ef854d45ba7b52c898f74827",
            "selectedOption": "dismiss",
            "parentId": "_c9e6fcd6047e423697ee9f1e7b6f2ff2",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "SHOW_ALERT_c5391e66a3e545af8e2c3d9e188d1b69",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "Error with fetching components from DB.",
            "yesLabel": "Ok",
            "alertMessage": "Error with fetching components from DB.",
            "messageType": "constant",
            "parentId": "_c9e6fcd6047e423697ee9f1e7b6f2ff2",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_a788a273a8dc45a08e09253005588369",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### COMPONENT_INSTANCE_Flow_CustomQuery andata a buon fine. Invocherò successivamente LABEL_Flow_CustomQuery\");\ndebugger;\n\n// forEach cicle in order to DELETE all the records in COMPONENT_INSTANCE, given its id.\nCOMPONENT_INSTANCE_Flow_CustomQuery.records.forEach(record => {\n\n  voltmx.sdk.getDefaultInstance().getIntegrationService(\"mariaDB\").invokeOperation(\"COMPONENT_INSTANCE_delete\", {}, {id: record.id}, (response) => {\n    voltmx.print(\"### Row deleted with response: \" + JSON.stringify(response) );\n  }, (error) => {\n    voltmx.print(\"### Row NOT deleted. Error: \" + error);\n  });\n  \n});\n\nflowId = parseInt(gblFlowId);\ndebugger;",
            "parentId": "_c03f424e8ace452486db09be79eb4169"
        }, {
            "id": "INVOKE_SERVICE_c83ca315a37549048fd121b8e502e1d0",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_ad75060c74b9496c87c3f6907937ef68": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ad75060c74b9496c87c3f6907937ef68",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblFlowId",
                        "dataType": "string",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "flow_id",
                        "dataType": "number",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_create",
                            "operationid": "137230"
                        }
                    }
                },
                "ME_Mapping_ffc7360a86a04b7eab20221a2fde37b1": {
                    "channel": "desktop",
                    "id": "ME_Mapping_ffc7360a86a04b7eab20221a2fde37b1",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblFlowEnvironment",
                        "dataType": "string",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "environment",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_create",
                            "operationid": "137230"
                        }
                    }
                },
                "ME_Mapping_a9149ba09a0b473da4d0bf9d2f0b883c": {
                    "channel": "desktop",
                    "id": "ME_Mapping_a9149ba09a0b473da4d0bf9d2f0b883c",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "status",
                        "dataType": "string",
                        "expression": "\"Archived\"",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABELCOPY_create",
                            "operationid": "137230"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_ad75060c74b9496c87c3f6907937ef68", "ME_Mapping_ffc7360a86a04b7eab20221a2fde37b1", "ME_Mapping_a9149ba09a0b473da4d0bf9d2f0b883c"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "LABELCOPY_create",
                "operationid": "137230"
            },
            "parentId": "_c03f424e8ace452486db09be79eb4169",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "_j597b8c6445c420d8bfecc2d478f6a57",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "LABELCOPY_create.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_c83ca315a37549048fd121b8e502e1d0",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "ADD_SNIPPET_c7ce83689db94ab0b0db0d1ece07b5aa",
            "type": "ADD_SNIPPET",
            "codeSnippet": "voltmx.print(\"### new Label Copy creato correttamente.\");\nnewLabelCopyId = LABELCOPY_create.LABELCOPY[0].id;\ndebugger;",
            "parentId": "_j597b8c6445c420d8bfecc2d478f6a57",
            "callbackType": null
        }, {
            "id": "INVOKE_SERVICE_df9f864ed2fb49539cb1f3a44f0194e4",
            "type": "INVOKE_ASYNC_SERVICE",
            "inputparams": null,
            "httpheaders": null,
            "httpconfigs": null,
            "isasynchronous": true,
            "mappings": {
                "ME_Mapping_a124bb1dec5e4419b1f9868add1777d7": {
                    "channel": "desktop",
                    "id": "ME_Mapping_a124bb1dec5e4419b1f9868add1777d7",
                    "type": "MAPPING",
                    "callbackType": null,
                    "rectified": true,
                    "source": {
                        "type": "Variables",
                        "propertyName": "gblLabelCopyId",
                        "dataType": "number",
                        "forkedPlatform": "all"
                    },
                    "target": {
                        "type": "Services",
                        "propertyName": "copyId",
                        "dataType": "string",
                        "forkedPlatform": "all",
                        "serviceconfig": {
                            "servicename": "mariaDB",
                            "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                            "type": "integration",
                            "operationname": "LABEL_copyId_CustomQueryGet",
                            "operationid": "137514"
                        }
                    }
                }
            },
            "mappingsOrder": ["ME_Mapping_a124bb1dec5e4419b1f9868add1777d7"],
            "serviceconfig": {
                "servicename": "mariaDB",
                "serviceid": "a113ff3f-1581-4b02-ab37-8ee6cc497b5e",
                "type": "integration",
                "operationname": "LABEL_copyId_CustomQueryGet",
                "operationid": "137514"
            },
            "parentId": "_j597b8c6445c420d8bfecc2d478f6a57",
            "callbackType": null,
            "enableMappingEditor": true
        }, {
            "id": "_ab596257b44947b0a621a39493905354",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_c83ca315a37549048fd121b8e502e1d0",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "LOADING_INDICATOR_a158361b27c842b0a16f713fa0444645",
            "selectedOption": "dismiss",
            "parentId": "_ab596257b44947b0a621a39493905354",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "SHOW_ALERT_j272792f0b894a099335a2956c00b4cd",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "New Label Copy NOT created correctly.",
            "yesLabel": "Ok",
            "alertMessage": "New Label Copy NOT created correctly.",
            "messageType": "constant",
            "parentId": "_ab596257b44947b0a621a39493905354",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "_d3f8090f17bc4153bf36ddac263634f8",
            "type": "IF_CONDITION",
            "conditions": [{
                "leftValueType": "expression",
                "leftValue": "LABEL_copyId_CustomQueryGet.opstatus === 0"
            }],
            "parentId": "INVOKE_SERVICE_df9f864ed2fb49539cb1f3a44f0194e4",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "_ia9f24d321184f9185e12a6341f4e776",
            "type": "ELSE_CONDITION",
            "conditions": [{
                "leftValueType": "widgetprop",
                "leftValue": "",
                "operator": "===",
                "rightValueType": "widgetprop",
                "rightValue": ""
            }],
            "parentId": "INVOKE_SERVICE_df9f864ed2fb49539cb1f3a44f0194e4",
            "callbackType": "Callback",
            "criteria": "all"
        }, {
            "id": "LOADING_INDICATOR_i01048686e174373812bd1b67f87a4e4",
            "selectedOption": "dismiss",
            "parentId": "_ia9f24d321184f9185e12a6341f4e776",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }, {
            "id": "SHOW_ALERT_d6b6ddb8c4cd4f9bbdaa42f0d5049b8b",
            "type": "SHOW_ALERT",
            "alertType": "constants.ALERT_TYPE_ERROR",
            "alertTitle": "Labels from Copy Id not fetched correctly.",
            "yesLabel": "Ok",
            "alertMessage": "Labels from Copy Id not fetched correctly.",
            "messageType": "constant",
            "parentId": "_ia9f24d321184f9185e12a6341f4e776",
            "callbackType": null,
            "alertTitlei18n": null,
            "yesLabeli18n": null,
            "noLabeli18n": null,
            "alertMessagei18n": null,
            "iconPosition": "constants.ALERT_ICON_POSITION_LEFT",
            "disabled": null
        }, {
            "id": "ADD_SNIPPET_c1bd80f904404b0992c84c14b1230450",
            "type": "ADD_SNIPPET",
            "codeSnippet": "debugger;\nvoltmx.print(\"### LABEL_copyId_CustomQueryGet andata a buon fine. Invocherò successivamente la funzione saveStepComposition\");\nvoltmx.print(\"### LABEL_copyId_CustomQueryGet.records: \" + JSON.stringify(LABEL_copyId_CustomQueryGet.records) );\n\nnewLabels = JSON.parse(JSON.stringify(LABEL_copyId_CustomQueryGet.records));\noldLabels = JSON.parse(JSON.stringify(LABEL_copyId_CustomQueryGet.records));\nJSON.parse(JSON.stringify(LABEL_copyId_CustomQueryGet.records));\n// In questa lista di labels sostituisco ad ognuna il label_copy_id inserendo il nuovo e ricreo le labels.\nnewLabels.forEach(record => {\n  record.id = record.id.replace(/^\\d+/, newLabelCopyId); // sostituisce il primo numero della stringa con il label copy aggiornato\n  record.label_copy_id = newLabelCopyId;\n  \n  voltmx.sdk.getDefaultInstance().getIntegrationService(\"mariaDB\").invokeOperation(\"LABEL_create\", {}, record, (response) => {\n    voltmx.print(\"### Label recreated correctly: \" + JSON.stringify(response) );\n  }, (error) => {\n    voltmx.print(\"### Label NOT recreated correctly. Error: \" + error);\n  });\n  \n});\n\n\n// Ora che le labels sono ricreate con il nuovo label copy, elimino le vecchie per poterle ricreare con gli aggiornamenti\noldLabels.forEach(record => {\n\n  voltmx.sdk.getDefaultInstance().getIntegrationService(\"mariaDB\").invokeOperation(\"LABEL_delete\", {}, {id: record.id}, (response) => {\n    voltmx.print(\"### Row deleted with response: \" + JSON.stringify(response) );\n  }, (error) => {\n    voltmx.print(\"### Row NOT deleted. Error: \" + error);\n  });\n  \n});\n\ndebugger;",
            "parentId": "_d3f8090f17bc4153bf36ddac263634f8",
            "callbackType": null
        }, {
            "id": "INVOKE_FUNCTION__ada3de70e8454475a7109a47496e7a82",
            "type": "INVOKE_FUNCTION",
            "sequenceKUID": "saveStepComposition",
            "display": "saveStepComposition",
            "inputparams": [],
            "parentId": "_d3f8090f17bc4153bf36ddac263634f8",
            "callbackType": null,
            "disabled": null,
            "source": "controller"
        }, {
            "id": "LOADING_INDICATOR_b4c6f2f5822d447da51e06e4de7987d3",
            "selectedOption": "dismiss",
            "parentId": "_d3f8090f17bc4153bf36ddac263634f8",
            "type": "LOADING_INDICATOR",
            "callbackType": null,
            "skin": "none",
            "position": "constants.LOADING_SCREEN_POSITION_FULL_SCREEN",
            "isBlocked": "true",
            "showProgressIndicator": "true"
        }]
    }
}